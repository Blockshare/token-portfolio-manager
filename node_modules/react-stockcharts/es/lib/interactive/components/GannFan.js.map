{"version":3,"sources":["../../../../../src/lib/interactive/components/GannFan.js"],"names":["React","Component","PropTypes","pairs","path","d3Path","GenericChartComponent","getMouseCanvas","generateLine","isHovering2","getSlope","getYIntercept","isDefined","isNotDefined","noop","hexToRGBA","degrees","radians","head","last","GannFan","props","renderSVG","bind","drawOnCanvas","isHover","moreProps","tolerance","onHover","mouseXY","mouseX","mouseY","hovering","lines","helper","i","length","line1","left","Math","min","x1","x2","right","max","top","y1","y2","bottom","isWithinLineBounds","ctx","stroke","strokeWidth","fillOpacity","strokeOpacity","fill","lineWidth","strokeStyle","forEach","line","beginPath","moveTo","lineTo","pairsOfLines","idx","line2","fillStyle","closePath","map","each","toString","selected","interactiveCursorClass","onDragStart","onDrag","onDragComplete","onUnHover","xyProvider1","endXY","m","b","dx","dy","yScale","chartConfig","y","x","xyProvider2","xScale","FAN_LINES_1","label","angle","xyProvider","MAIN_LINE","FAN_LINES_2","startXY","plotData","xAccessor","modLine","type","start","end","realSlope","text","xy","atan","mapper","reference","correctAngle","theta","slope","tan","x2dash","range","y2dash","concat","actual","abs","propTypes","string","isRequired","number","arrayOf","fontFamily","fontSize","fontFill","func","defaultClassName","bool","defaultProps"],"mappings":"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","file":"GannFan.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { pairs } from \"d3-array\";\nimport { path as d3Path } from \"d3-path\";\n\nimport GenericChartComponent from \"../../GenericChartComponent\";\nimport { getMouseCanvas } from \"../../GenericComponent\";\nimport { generateLine, isHovering2, getSlope, getYIntercept } from \"./StraightLine\";\n\nimport {\n\tisDefined, isNotDefined,\n\tnoop, hexToRGBA,\n\tdegrees, radians,\n\thead, last\n} from \"../../utils\";\n\nclass GannFan extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t}\n\tisHover(moreProps) {\n\t\tconst { tolerance, onHover } = this.props;\n\t\tconst { mouseXY } = moreProps;\n\t\tconst [mouseX, mouseY] = mouseXY;\n\n\t\tlet hovering = false;\n\t\tif (isDefined(onHover)) {\n\n\t\t\tconst lines = helper(this.props, moreProps);\n\n\t\t\tfor (let i = 0; i < lines.length; i++) {\n\t\t\t\tconst line1 = lines[i];\n\n\t\t\t\tconst left = Math.min(line1.x1, line1.x2);\n\t\t\t\tconst right = Math.max(line1.x1, line1.x2);\n\t\t\t\tconst top = Math.min(line1.y1, line1.y2);\n\t\t\t\tconst bottom = Math.max(line1.y1, line1.y2);\n\n\t\t\t\tconst isWithinLineBounds = mouseX >= left && mouseX <= right\n\t\t\t\t\t&& mouseY >= top && mouseY <= bottom;\n\n\t\t\t\thovering = isWithinLineBounds\n\t\t\t\t\t&& isHovering2(\n\t\t\t\t\t\t[line1.x1, line1.y1],\n\t\t\t\t\t\t[line1.x2, line1.y2],\n\t\t\t\t\t\tmouseXY,\n\t\t\t\t\t\ttolerance);\n\n\t\t\t\tif (hovering) break;\n\t\t\t}\n\t\t}\n\t\treturn hovering;\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst { stroke, strokeWidth, fillOpacity, strokeOpacity, fill } = this.props;\n\n\t\tconst lines = helper(this.props, moreProps);\n\n\t\tctx.lineWidth = strokeWidth;\n\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n\n\n\t\tlines.forEach(line => {\n\t\t\tconst { x1, y1, x2, y2 } = line;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x1, y1);\n\t\t\tctx.lineTo(x2, y2);\n\t\t\tctx.stroke();\n\t\t});\n\t\tconst pairsOfLines = pairs(lines);\n\n\t\tpairsOfLines.forEach(([line1, line2], idx) => {\n\t\t\tctx.fillStyle = hexToRGBA(fill[idx], fillOpacity);\n\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(line1.x1, line1.y1);\n\t\t\tctx.lineTo(line1.x2, line1.y2);\n\t\t\tctx.lineTo(line2.x2, line2.y2);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t});\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { stroke, strokeWidth, fillOpacity, fill, strokeOpacity } = this.props;\n\n\t\tconst lines = helper(this.props, moreProps);\n\t\tconst pairsOfLines = pairs(lines);\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t{lines.map((each, idx) => {\n\t\t\t\t\tconst { x1, y1, x2, y2 } = each;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<line key={idx}\n\t\t\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\t\t\tx1={x1}\n\t\t\t\t\t\t\ty1={y1}\n\t\t\t\t\t\t\tx2={x2}\n\t\t\t\t\t\t\ty2={y2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{pairsOfLines.map(([line1, line2], idx) => {\n\t\t\t\t\tconst ctx = d3Path();\n\t\t\t\t\tctx.moveTo(line1.x1, line1.y1);\n\t\t\t\t\tctx.lineTo(line1.x2, line1.y2);\n\t\t\t\t\tctx.lineTo(line2.x2, line2.y2);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<path key={idx}\n\t\t\t\t\t\t\tstroke=\"none\"\n\t\t\t\t\t\t\tfill={fill[idx]}\n\t\t\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\t\t\td={ctx.toString()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\tconst { selected, interactiveCursorClass } = this.props;\n\t\tconst { onDragStart, onDrag, onDragComplete, onHover, onUnHover } = this.props;\n\n\t\treturn <GenericChartComponent\n\t\t\tisHover={this.isHover}\n\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\n\t\t\tinteractiveCursorClass={interactiveCursorClass}\n\t\t\tselected={selected}\n\n\t\t\tonDragStart={onDragStart}\n\t\t\tonDrag={onDrag}\n\t\t\tonDragComplete={onDragComplete}\n\t\t\tonHover={onHover}\n\t\t\tonUnHover={onUnHover}\n\n\t\t\tdrawOn={[\"mousemove\", \"mouseleave\", \"pan\", \"drag\"]}\n\t\t/>;\n\t}\n}\n\nconst xyProvider1 = (moreProps, endXY, m, b, dx, dy) =>  {\n\tconst { chartConfig: { yScale } } = moreProps;\n\t// y = mx + b\n\t// x = (y - b) / m\n\tconst y = yScale(endXY[1]);\n\tconst x = (y - b) / m;\n\treturn [x, y + dy];\n};\n\nconst xyProvider2 = (moreProps, endXY, m, b, dx/* , dy*/) =>  {\n\tconst { xScale } = moreProps;\n\t// y = mx + b\n\t// x = (y - b) / m\n\tconst x = xScale(endXY[0]);\n\tconst y = m * x + b;\n\treturn [x + dx, y];\n};\n\nconst FAN_LINES_1 = [\n\t{ label: \"1x8\", angle: 82.5, xyProvider: xyProvider1 },\n\t{ label: \"1x4\", angle: 75, xyProvider: xyProvider1 },\n\t{ label: \"1x3\", angle: 71.25, xyProvider: xyProvider1 },\n\t{ label: \"1x2\", angle: 63.75, xyProvider: xyProvider1 },\n];\nconst MAIN_LINE = { label: \"1x1\", angle: 45 };\n\nconst FAN_LINES_2 = [\n\t{ label: \"2x1\", angle: 26.25, xyProvider: xyProvider2 },\n\t{ label: \"3x1\", angle: 18.75, xyProvider: xyProvider2 },\n\t{ label: \"4x1\", angle: 15, xyProvider: xyProvider2 },\n\t{ label: \"8x1\", angle: 7.5, xyProvider: xyProvider2 },\n];\n\nfunction helper(props, moreProps) {\n\tconst { startXY, endXY } = props;\n\n\tconst { xScale, chartConfig, plotData } = moreProps;\n\tconst { yScale } = chartConfig;\n\tconst { xAccessor } = moreProps;\n\n\tif (isNotDefined(startXY) || isNotDefined(endXY)) {\n\t\treturn [];\n\t}\n\tif (xAccessor(head(plotData)) >=  Math.max(startXY[0], endXY[0])\n\t\t\t|| xAccessor(last(plotData)) <=  Math.min(startXY[0], endXY[0])) {\n\t\treturn [];\n\t}\n\n\tconst modLine = generateLine({\n\t\ttype: \"RAY\",\n\t\tstart: startXY,\n\t\tend: endXY,\n\t\txScale,\n\t\tyScale,\n\t});\n\n\tconst x1 = xScale(modLine.x1);\n\tconst y1 = yScale(modLine.y1);\n\tconst x2 = xScale(modLine.x2);\n\tconst y2 = yScale(modLine.y2);\n\n\tconst m = getSlope([x1, y1], [x2, y2]);\n\tconst realSlope = getSlope(startXY, endXY);\n\n\tconst dx = x2 > x1 ? 10 : -10;\n\tconst dy = y2 < y1 ? -10 : 10;\n\n\tconst line1 = {\n\t\tx1, y1, x2, y2,\n\t\ttext: {\n\t\t\tlabel: MAIN_LINE.label,\n\t\t\txy: [xScale(endXY[0]) + dx, yScale(endXY[1]) + dy]\n\t\t},\n\t};\n\n\tif (isNotDefined(realSlope)) return [];\n\n\tconst angle = degrees(Math.atan(m));\n\n\tconst mapper = each => {\n\t\tconst reference = correctAngle(angle, angle);\n\t\tconst theta = correctAngle(angle, (each.angle / 45) * reference);\n\n\t\t// console.log(angle, reference, each.angle, theta);\n\n\t\tconst slope = Math.tan(radians(theta));\n\t\tconst b = getYIntercept(slope, [x1, y1]);\n\t\tconst x2dash = x2 > x1\n\t\t\t? Math.max(...xScale.range())\n\t\t\t: Math.min(...xScale.range());\n\t\tconst y2dash = slope * x2dash + b;\n\n\t\tconst text = {\n\t\t\tlabel: each.label,\n\t\t\txy: each.xyProvider(moreProps, endXY, slope, b, dx, dy)\n\t\t};\n\n\t\treturn { x1, y1, x2: x2dash, y2: y2dash, text };\n\t};\n\n\tconst lines = FAN_LINES_1\n\t\t.map(mapper)\n\t\t.concat(line1)\n\t\t.concat(FAN_LINES_2.map(mapper));\n\n\treturn lines;\n}\n\nfunction correctAngle(reference, actual) {\n\tconst angle = Math.abs(reference) > 45\n\t\t? (reference / Math.abs(reference) * 90) - actual\n\t\t: actual;\n\n\treturn angle;\n}\n\nGannFan.propTypes = {\n\tinteractiveCursorClass: PropTypes.string,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tfill: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tfillOpacity: PropTypes.number.isRequired,\n\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tfontFill: PropTypes.string.isRequired,\n\n\tonDragStart: PropTypes.func.isRequired,\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tonHover: PropTypes.func,\n\tonUnHover: PropTypes.func,\n\n\tdefaultClassName: PropTypes.string,\n\n\ttolerance: PropTypes.number.isRequired,\n\tselected: PropTypes.bool.isRequired,\n};\n\nGannFan.defaultProps = {\n\tonDragStart: noop,\n\tonDrag: noop,\n\tonDragComplete: noop,\n\n\tstrokeWidth: 1,\n\ttolerance: 4,\n\tselected: false,\n};\n\nexport default GannFan;\n"]}